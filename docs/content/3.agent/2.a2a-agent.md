---
title: A2A Agent
description: 在本地实例化一个远程以 A2A 服务部署的智能体，在本地调用运行。
navigation:
  icon: i-lucide-cloud
---

当智能体部署到云上后，可以在本地被初始化为一个 *Remote Agent*，能够通过 A2A 协议来访问的智能体。

## 使用方法

下面将使用 `uvicorn` 来启动一个本地的 A2A Server，体验 *Remote Agent* 使用方法。

::steps

### 编写 Server 侧智能体

我们将借助 Google ADK 的工具函数来便捷地创建一个 A2A Server：

```python [server_agent.py]
from google.adk.a2a.utils.agent_to_a2a import to_a2a
from veadk import Agent
from veadk.tools.demo_tools import get_city_weather

agent = Agent(name="weather_reporter", tools=[get_city_weather])

app = to_a2a(agent)
```

### 本地启动 A2A Server

```bash [Terminal]
uvicorn server_agent:app --host localhost --port 8001
```

### 编写 Client 侧智能体

```python [agent.py]
import asyncio

from veadk import Runner
from veadk.a2a.remote_ve_agent import RemoteVeAgent

remote_agent = RemoteVeAgent(name="a2a_agent", url="http://127.0.0.1:8001")

runner = Runner(remote_agent)
response = asyncio.run(runner.run("北京天气"))

print(response) # 北京天气晴朗，气温25°C。
```

::

## 初始化选项

::field-group
  ::field{name="name" type="string"}
  智能体的名称
  ::

  ::field{name="url" type="string"}
  远程智能体的访问端点
  ::
::
