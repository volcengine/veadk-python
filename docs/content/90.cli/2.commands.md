---
title: 命令说明
description: 多样工具便捷使用
navigation:
  icon: i-lucide-terminal
---


## 提示词优化

用来优化 Agent 的系统提示词（System prompt）。

```bash
veadk prompt
```

选项包括：

- `--path`：指定要优化的 Agent 文件路径，默认值为当前目录下的 `agent.py` 文件。注意，必须将你定义的智能体作为全局变量导出
- `--feedback`：指定优化后的提示词反馈，用于优化模型
- `--api-key`：指定 AgentPilot 平台的 API Key，用于调用优化模型
- `--model-name`：指定优化模型的名称，默认值为 `doubao-1.5-pro-32k-250115`

## 一键上云部署

可直接将本地项目部署到火山引擎 FaaS 平台上：

```bash
veadk deploy
```

选项包括：

- `--access-key`：指定火山引擎的 Access Key，用于调用 FaaS 平台的 API
- `--secret-key`：指定火山引擎的 Secret Key，用于调用 FaaS 平台的 API
- `--name`：指定部署的应用名称，用于在 FaaS 平台上标识该部署
- `--path`：指定项目路径，默认值为当前目录

## 本地调试

可以通过`adk web`或`veadk studio`来启动Web页面，运行智能体：

```bash
# basic usage:
adk web

# if you need to use long-term memory, you should use `veadk web`.
# if the `session_service_uri` is not set, it will use `opensearch` as your long-term memory backend
veadk web --session_service_uri="mysql+pymysql://{user}:{password}@{host}/{database}"
```

它们能够自动读取执行命令目录中的`agent.py`文件，并加载`root_agent`全局变量。

## 评测

通过使用 `veadk eval` 来进行智能体评测，相关参数如下：

::field-group
  ::field{name="--agent-dir" type="string"}
  待评测的 Agent 目录。目录中需要符合 Google ADK 的项目结构，即需要具备一个导出 `root_agent` 的名为 `agent.py` 的文件。
  ::

  ::field{name="--agent-a2a-url" type="string"}
  待评测的云端 Agent 路径，要求云端 Agent 使用 A2A 协议进行部署。
  ::

  ::field{name="--evalset-file" type="string"}
  Google ADK 格式的评测集文件
  ::

  ::field{name="--evaluator" type="string"}
  评测器类别：`adk` 为 Google ADK 内置评测器，评测模型为自身；`deepeval` 为 DeepEval 评测器，评测模型可以通过 `--judge-model-name` 参数指定。
  ::

  ::field{name="--judge-model-name" type="string"}
  默认为 `doubao-1-5-pro-256k-250115` - 评测模型，该参数在 `--evaluator` 值为 `adk` 时无效。
  ::

  ::field{name="--volcengine-access-key" type="string"}
  火山引擎 Access Key
  ::

  ::field{name="--volcengine-secret-key" type="string"}
  火山引擎 Secret Key
  ::
::

## 知识库操作

您可以通过 `veadk kb add` 命令来向您的知识库添加本地文件或者目录。例如，准备如下目录：

::code-tree{default-value="knowledges/id.txt"}

```txt [knowledges/id.txt]
My id is 20250101.
```

::

之后，将 `knowledges/id.txt` 中的内容存入到 OpenSearch 知识库中：

```bash
# 知识库的相关配置将会从环境变量中读取
veadk kb add --backend opensearch --app_name=cmd_app --path=./knowledges
```

可使用如下代码测试：

```python
import asyncio

from veadk import Agent, Runner
from veadk.knowledgebase import KnowledgeBase

app_name = "cmd_app"

knowledgebase = KnowledgeBase(backend="opensearch", app_name=app_name)

agent = Agent(knowledgebase=knowledgebase)

runner = Runner(agent=agent, app_name=app_name)

response = asyncio.run(
    runner.run(messages="Please help me to fetch my ID from my knowledgebase")
)

print(response) # Your ID is 20250101.
```
